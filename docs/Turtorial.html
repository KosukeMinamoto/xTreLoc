<!DOCTYPE html><html><head>
      <title>Turtorial</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////Users/kosukeminamoto/.cursor/extensions/shd101wyy.markdown-preview-enhanced-0.8.20-universal/crossnote/dependencies/katex/katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<p><link rel="stylesheet" href="style.css"></p>
<h1 id="xtreloc-user-manual-english">xTreLoc User Manual (English) </h1>
<h2 id="table-of-contents">Table of Contents </h2>
<div class="code-chunk" data-id="code-chunk-id-0" data-cmd="toc"><div class="input-div"><div class="code-chunk-btn-group"><div class="run-btn btn btn-xs btn-primary"><span>▶︎</span></div><div class="run-all-btn btn btn-xs btn-primary">all</div></div><div class="status">running...</div></div><div class="output-div"></div></div><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#installation-and-build">Installation and Build</a>
<ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#building-from-source">Building from Source</a></li>
<li><a href="#verifying-the-build">Verifying the Build</a></li>
<li><a href="#running-jar-files">Running JAR Files</a></li>
</ul>
</li>
<li><a href="#data-formats">Data Formats</a>
<ul>
<li><a href="#station-file-format-stationtbl">Station File Format (station.tbl)</a></li>
<li><a href="#catalog-csv-format">Catalog CSV Format</a></li>
<li><a href="#travel-time-difference-data-file-format">Travel Time Difference Data File Format</a></li>
</ul>
</li>
<li><a href="#gui-mode">GUI Mode</a></li>
<li><a href="#cli-mode">CLI Mode</a>
<ul>
<li><a href="#starting-cli-mode">Starting CLI Mode</a></li>
<li><a href="#command-syntax">Command Syntax</a></li>
<li><a href="#available-modes">Available Modes</a></li>
<li><a href="#help">Help</a></li>
</ul>
</li>
<li><a href="#demo-dataset-tutorial">Demo Dataset Tutorial</a>
<ul>
<li><a href="#preparation">Preparation</a></li>
<li><a href="#demo-dataset-structure">Demo Dataset Structure</a></li>
<li><a href="#workflow-overview">Workflow Overview</a></li>
<li><a href="#step-1-synthetic-data-generation">Step 1: Synthetic Data Generation</a></li>
<li><a href="#step-2-hypocenter-location">Step 2: Hypocenter Location</a></li>
<li><a href="#step-3-hypocenter-relocation">Step 3: Hypocenter Relocation</a></li>
<li><a href="#step-4-result-visualization">Step 4: Result Visualization</a></li>
<li><a href="#output-results">Output Results</a></li>
</ul>
</li>
<li><a href="#citation">Citation</a></li>
</ul>
<hr>
<h2 id="introduction">Introduction </h2>
<p>xTreLoc is a hypocenter location software that supports multiple location methods:</p>
<ul>
<li><strong>GRD</strong>: Returns a grid that minimizes travel time difference residuals using focused random search. Should be executed before STD mode.</li>
<li><strong>STD</strong>: Hypocenter location for individual events using the Station-pair Double Difference method. A Java port of the Fortran <code>hypoEcc</code> (Ide, 2010; Ohta et al., 2019) with minor bug fixes in <code>delaz4.f</code>, etc. Should be executed before TRD mode.</li>
<li><strong>MCMC</strong>: Hypocenter location using Markov Chain Monte Carlo method. Provides uncertainty estimation.</li>
<li><strong>TRD</strong>: Relative hypocenter relocation using the Triple Difference method by Guo &amp; Zhang (2016).</li>
<li><strong>CLS</strong>: Constructs a network of hypocenters through spatial clustering and calculates differences in travel time differences between events. Equivalent to the role of <code>ph2dt</code> in <code>hypoDD</code> (Waldhauser &amp; Ellsworth, 2000) and must be executed before TRD mode.</li>
<li><strong>SYN</strong>: Creates synthetic data that can be directly used in location modes (GRD, MCMC, STD &amp; TRD).</li>
</ul>
<p>The software can be used in two modes:</p>
<ul>
<li><strong>GUI Mode</strong>: Interactive graphical user interface</li>
<li><strong>CLI Mode</strong>: Command-line interface for batch processing</li>
</ul>
<hr>
<h2 id="installation-and-build">Installation and Build </h2>
<h3 id="requirements">Requirements </h3>
<ul>
<li><strong>Java 20 or higher</strong> (check with <code>java -version</code>)</li>
<li>Operating system: Windows, macOS, or Linux</li>
<li><strong>Gradle</strong> (included in <code>gradlew</code> wrapper, or install separately) or <strong>Maven 3.6+</strong></li>
</ul>
<h3 id="building-from-source">Building from Source </h3>
<h4 id="using-gradle">Using Gradle </h4>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token comment"># Clone the repository</span>
<span class="token function">git</span> clone https://github.com/KosukeMinamoto/xTreLoc.git
<span class="token builtin class-name">cd</span> xTreLoc

<span class="token comment"># Build GUI version</span>
./gradlew build

<span class="token comment"># Build CLI version</span>
./gradlew cliJar

<span class="token comment"># Build both</span>
./gradlew build cliJar
</code></pre><p>Built JAR files are placed in <code>build/libs/</code>:</p>
<ul>
<li><code>xTreLoc-GUI-1.0-SNAPSHOT.jar</code> (GUI version)</li>
<li><code>xTreLoc-CLI-1.0-SNAPSHOT.jar</code> (CLI version)</li>
</ul>
<h4 id="using-maven">Using Maven </h4>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token comment"># Clone the repository</span>
<span class="token function">git</span> clone https://github.com/KosukeMinamoto/xTreLoc.git
<span class="token builtin class-name">cd</span> xTreLoc

<span class="token comment"># Build both GUI and CLI versions</span>
mvn clean package
</code></pre><p>Built JAR files are placed in <code>target/</code>:</p>
<ul>
<li><code>xTreLoc-GUI-1.0-SNAPSHOT.jar</code> (GUI version)</li>
<li><code>xTreLoc-CLI-1.0-SNAPSHOT.jar</code> (CLI version)</li>
</ul>
<p><strong>Build options:</strong></p>
<ul>
<li>Build GUI version only: <code>mvn clean package -Pgui</code></li>
<li>Build CLI version only: <code>mvn clean package -Pcli</code></li>
</ul>
<h3 id="verifying-the-build">Verifying the Build </h3>
<p>After building, verify that JAR files exist:</p>
<p><strong>Gradle:</strong></p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">ls</span> <span class="token parameter variable">-lh</span> build/libs/*.jar
</code></pre><p><strong>Maven:</strong></p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">ls</span> <span class="token parameter variable">-lh</span> target/*.jar
</code></pre><h3 id="running-jar-files">Running JAR Files </h3>
<p><strong>GUI Mode:</strong></p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token comment"># Using Gradle build</span>
<span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-GUI-1.0-SNAPSHOT.jar

<span class="token comment"># Using Maven build</span>
<span class="token function">java</span> <span class="token parameter variable">-jar</span> target/xTreLoc-GUI-1.0-SNAPSHOT.jar
</code></pre><p><strong>CLI Mode:</strong></p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token comment"># Using Gradle build</span>
<span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-CLI-1.0-SNAPSHOT.jar <span class="token operator">&lt;</span>MODE<span class="token operator">&gt;</span> config.json

<span class="token comment"># Using Maven build</span>
<span class="token function">java</span> <span class="token parameter variable">-jar</span> target/xTreLoc-CLI-1.0-SNAPSHOT.jar <span class="token operator">&lt;</span>MODE<span class="token operator">&gt;</span> config.json
</code></pre><hr>
<h2 id="data-formats">Data Formats </h2>
<h3 id="station-file-format-stationtbl">Station File Format (station.tbl) </h3>
<p>Space-separated format:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>station,latitude,longitude,depth,Pc,Sc
</code></pre><p>Example:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>ST01 39.00 142.20 -1000 0.40 0.68
ST02 39.50 142.20 -1670 0.88 1.50
</code></pre><p><strong>Field Descriptions</strong>:</p>
<ul>
<li><strong>Station name</strong>: Station identifier</li>
<li><strong>Latitude</strong>: Latitude in decimal notation (positive for north)</li>
<li><strong>Longitude</strong>: Longitude in decimal notation (positive for east)</li>
<li><strong>H</strong>: Elevation in meters (positive downward, negative above sea level)</li>
<li><strong>Sc</strong>: Station correction value added to theoretical travel time difference for S-wave (seconds)</li>
<li><strong>Pc</strong>: Station correction value added to theoretical travel time difference for P-wave (seconds)</li>
</ul>
<h3 id="catalog-csv-format">Catalog CSV Format </h3>
<p>CSV format with header:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>time,latitude,longitude,depth,xerr,yerr,zerr,rms,file,mode,cid
</code></pre><p>Example:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>2000-01-01T00:00:00,39.5000,142.4000,15.0000,0.0000,0.0000,0.0000,0.0000,dat/000101.000000.dat,SYN,0
</code></pre><p><strong>Field Descriptions</strong>:</p>
<ul>
<li><strong>time</strong>: Event time (ISO 8601 format, e.g., 2000-01-01T00:00:00)</li>
<li><strong>latitude</strong>: Latitude in decimal notation (positive for north)</li>
<li><strong>longitude</strong>: Longitude in decimal notation (positive for east)</li>
<li><strong>depth</strong>: Depth (km, positive downward)</li>
<li><strong>xerr</strong>: Location error in latitude direction (km)</li>
<li><strong>yerr</strong>: Location error in longitude direction (km)</li>
<li><strong>zerr</strong>: Location error in depth direction (km)</li>
<li><strong>rms</strong>: RMS travel time difference residual (seconds)</li>
<li><strong>file</strong>: Path to corresponding <code>.dat</code> file</li>
<li><strong>mode</strong>: Event type (SYN, GRD, STD, MCMC, TRD, ERR, REF)</li>
<li><strong>cid</strong>: Cluster ID (integer, 0 for events not classified into clusters)</li>
</ul>
<p><strong>Event Types</strong>:</p>
<ul>
<li><strong>SYN</strong>: Events generated by SYN mode</li>
<li><strong>GRD</strong>: Events located by GRD mode</li>
<li><strong>STD</strong>: Events located by STD mode</li>
<li><strong>TRD</strong>: Events relocated by TRD mode</li>
<li><strong>ERR</strong>: Events that encountered errors during location (e.g., airquake)</li>
<li><strong>REF</strong>: Events that are only referenced in CLS and TRD modes and fixed as references</li>
</ul>
<h3 id="travel-time-difference-data-file-format">Travel Time Difference Data File Format </h3>
<p>Space-separated file managing hypocenter and travel time differences for each event.</p>
<p><strong>Format</strong>:</p>
<ul>
<li><strong>Line 1</strong>: <code>latitude longitude depth located_mode</code></li>
<li><strong>Line 2</strong>: <code>latitude_error longitude_error depth_error RMS_travel_time_difference_residual</code></li>
<li><strong>Line 3 and onwards</strong>: <code>station1 station2 travel_time_difference weight</code></li>
</ul>
<p><strong>Example</strong>:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>39.476 142.367 14.015 SYN
0.030 0.030 3.340 -999.000
ST07 ST09 -0.889 1.000
ST03 CA00 -12.975 1.000
ST02 ST09 12.280 1.000
</code></pre><p><strong>Field Descriptions</strong>:</p>
<ul>
<li><strong>Travel time difference</strong>: Travel time difference for S-wave. Corresponds to the value T_st2 - T_st1, where T_st1 and T_st2 are arrival times at stations st1 and st2, respectively.</li>
<li><strong>Weight</strong>: Data quality weight. Compared with <code>threshold</code> in <code>config.json</code> to determine whether to use the detection value. For example, by inputting the maximum value of the cross-correlation function, when <code>threshold: 0.6</code>, only detections with CC&gt;0.6 are used for location.<br>
In SYN mode, all values are set to 1.0. In GRD, STD, and MCMC modes, the absolute value of the inverse of the travel time difference residual is written. For example, a detection with a residual of -2 seconds has a weight of <code>0.5</code>, and the acceptable residual in the next location step (STD, MCMC, CLS, TRD) can be controlled with <code>threshold</code>. Note that in STD mode, since it solves an overdetermined problem, an error is output if there are fewer than 4 detections exceeding <code>threshold</code>.</li>
</ul>
<hr>
<h2 id="gui-mode">GUI Mode </h2>
<p>The GUI consists of three main tabs:</p>
<ol>
<li>Solver tab: Configuration and execution of hypocenter location calculations.</li>
<li>Viewer tab: Visualization of hypocenter positions and result analysis.</li>
<li>Settings tab: Configuration of application settings.</li>
</ol>
<p>Launch with the following command:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-GUI-1.0-SNAPSHOT.jar
</code></pre><p>Or using Gradle:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>./gradlew run
</code></pre><hr>
<h2 id="cli-mode">CLI Mode </h2>
<h3 id="starting-cli-mode">Starting CLI Mode </h3>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar <span class="token operator">&lt;</span>MODE<span class="token operator">&gt;</span> <span class="token punctuation">[</span>config.json<span class="token punctuation">]</span>
</code></pre><p>Or using Gradle:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>./gradlew runCLI <span class="token parameter variable">-PcliArgs</span><span class="token operator">=</span><span class="token string">"&lt;MODE&gt; [config.json]"</span>
</code></pre><h3 id="command-syntax">Command Syntax </h3>
<pre data-role="codeBlock" data-info="" class="language-text"><code>java -jar xTreLoc-CLI-1.0-SNAPSHOT.jar &lt;MODE&gt; [config.json]
</code></pre><ul>
<li><code>&lt;MODE&gt;</code>: One of GRD, STD, MCMC, TRD, CLS, or SYN</li>
<li><code>[config.json]</code>: Path to configuration file (Default: <code>config.json</code>)</li>
</ul>
<h3 id="available-modes">Available Modes </h3>
<h4 id="grd-mode-grid-search">GRD Mode (Grid Search) </h4>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar GRD config.json
</code></pre><p>Executes grid search hypocenter location using focused random search for all <code>.dat</code> files in the specified directory.</p>
<h4 id="std-mode">STD Mode </h4>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar STD config.json
</code></pre><p>Applies the Station-pair Double Difference method to all <code>.dat</code> files.</p>
<h4 id="mcmc-mode">MCMC Mode </h4>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar MCMC config.json
</code></pre><p>Executes hypocenter location using MCMC for all <code>.dat</code> files.</p>
<h4 id="cls-mode-spatial-clustering">CLS Mode (Spatial Clustering) </h4>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar CLS config.json
</code></pre><p>Performs spatial clustering on a catalog file using the DBSCAN algorithm and creates triple difference data in binary format. Equivalent to the functionality of <code>ph2dt</code> in <code>hypoDD</code>.</p>
<h4 id="trd-mode">TRD Mode </h4>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar TRD config.json
</code></pre><p>Executes the Triple-Difference method on a catalog file using the method by Guo &amp; Zhang (2016). Requires binary files from CLS mode.</p>
<h4 id="syn-mode-synthetic-test-data-generation">SYN Mode (Synthetic Test Data Generation) </h4>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar SYN config.json
</code></pre><p>Generates synthetic data in dat format from a ground truth catalog.</p>
<h3 id="help">Help </h3>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar <span class="token parameter variable">--help</span>
</code></pre><p>Or</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> xTreLoc-CLI-1.0-SNAPSHOT.jar
</code></pre><hr>
<h2 id="demo-dataset-tutorial">Demo Dataset Tutorial </h2>
<p>This tutorial explains how to use xTreLoc using sample data in the <code>demo/</code> directory.</p>
<p><strong>Important</strong>: All commands in this tutorial should be executed from the project root directory (the directory containing the <code>demo/</code> folder). The paths in <code>config.json</code> are relative to this directory. In other words, the current working directory should be the project root (one level above <code>demo/</code>) when executing commands.</p>
<h3 id="preparation">Preparation </h3>
<ul>
<li>
<p>Java 20 or higher installed</p>
</li>
<li>
<p>xTreLoc JAR files built (GUI and/or CLI)</p>
</li>
<li>
<p><strong>Current directory</strong>: Make sure you are in the project root directory (the directory containing <code>demo/</code>, <code>config.json</code>, etc.)</p>
</li>
<li>
<p>Sample data in <code>demo/</code> directory:</p>
<ul>
<li><code>catalog_ground_truth.csv</code>: Ground truth catalog</li>
<li><code>station.tbl</code>: Station file</li>
</ul>
</li>
<li>
<p>Gnuplot (optional, for visualization scripts)</p>
</li>
<li>
<p>The following <code>config.json</code> is required (when running in CLI mode)</p>
<pre data-role="codeBlock" data-info="json" class="language-json json"><code><span class="token punctuation">{</span>
    <span class="token property">"logLevel"</span><span class="token operator">:</span> <span class="token string">"INFO"</span><span class="token punctuation">,</span>
    <span class="token property">"numJobs"</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token property">"stationFile"</span><span class="token operator">:</span> <span class="token string">"./demo/station.tbl"</span><span class="token punctuation">,</span>
    <span class="token property">"taupFile"</span><span class="token operator">:</span> <span class="token string">"prem"</span><span class="token punctuation">,</span>
    <span class="token property">"hypBottom"</span><span class="token operator">:</span> <span class="token number">40.0</span><span class="token punctuation">,</span>
    <span class="token property">"threshold"</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token property">"modes"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"GRD"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"datDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat"</span><span class="token punctuation">,</span>
            <span class="token property">"outDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat-grd"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"STD"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"datDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat"</span><span class="token punctuation">,</span>
            <span class="token property">"outDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat-std"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"MCMC"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"datDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat"</span><span class="token punctuation">,</span>
            <span class="token property">"outDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat-mcmc"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"TRD"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"catalogFile"</span><span class="token operator">:</span> <span class="token string">"./demo/dat-cls/catalog.csv"</span><span class="token punctuation">,</span>
            <span class="token property">"datDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat-cls"</span><span class="token punctuation">,</span>
            <span class="token property">"outDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat-trd"</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"CLS"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"catalogFile"</span><span class="token operator">:</span> <span class="token string">"./demo/dat-cls/catalog.csv"</span><span class="token punctuation">,</span>
            <span class="token property">"outDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat-cls"</span><span class="token punctuation">,</span>
            <span class="token property">"minPts"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token property">"eps"</span><span class="token operator">:</span> <span class="token number">10.0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"SYN"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"catalogFile"</span><span class="token operator">:</span> <span class="token string">"./demo/catalog_ground_truth.csv"</span><span class="token punctuation">,</span>
            <span class="token property">"outDirectory"</span><span class="token operator">:</span> <span class="token string">"./demo/dat"</span><span class="token punctuation">,</span>
            <span class="token property">"randomSeed"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
            <span class="token property">"phsErr"</span><span class="token operator">:</span> <span class="token number">0.15</span><span class="token punctuation">,</span>
            <span class="token property">"locErr"</span><span class="token operator">:</span> <span class="token number">0.05</span><span class="token punctuation">,</span>
            <span class="token property">"minSelectRate"</span><span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span>
            <span class="token property">"maxSelectRate"</span><span class="token operator">:</span> <span class="token number">0.5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"solver"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"GRD"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"totalGrids"</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
            <span class="token property">"numFocus"</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"MCMC"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"nSamples"</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
            <span class="token property">"burnIn"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
            <span class="token property">"stepSize"</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
            <span class="token property">"temperature"</span><span class="token operator">:</span> <span class="token number">1.0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">"TRD"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"iterNum"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"distKm"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token property">"dampFact"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></li>
</ul>
<h3 id="demo-dataset-structure">Demo Dataset Structure </h3>
<pre data-role="codeBlock" data-info="sh" class="language-bash sh"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ./demo/dat
</code></pre><pre data-role="codeBlock" data-info="" class="language-text"><code>demo/
├── catalog_ground_truth.csv  # Ground truth catalog for SYN mode
├── station.tbl                # Station file
└── dat/                       # Input .dat files (generated by SYN mode)
</code></pre><h3 id="workflow-overview">Workflow Overview </h3>
<pre data-role="codeBlock" data-info="" class="language-text"><code>Step 1: SYN → Generate .dat files
  ↓
Step 2: Execute location methods GRD+STD or MCMC → Output catalog.csv
  ↓
Step 3: Visualization → Gnuplot/Matlab/Python or GUI
  ↓
Step 4: CLS → Clustered catalog.csv, triple difference data (triple_diff_*.bin)
  ↓
Step 5: TRD
</code></pre><p>Each location mode has roughly the following characteristics:</p>
<ul>
<li><strong>GRD Mode</strong>: Suitable for rough distribution estimation and initial hypocenter location</li>
<li><strong>STD Mode</strong>: Fast with good accuracy, but significantly affected by outliers in detection values, so it is recommended to execute after GRD mode.</li>
<li><strong>MCMC Mode</strong>: Moderate speed but good location accuracy.</li>
<li><strong>TRD Mode</strong>: However, for events with few detection data, some data may diverge, often resulting in reduced data. Also, the location accuracy of input data significantly affects results. Computationally intensive, so bootstrap-based error estimation is not currently implemented.</li>
</ul>
<h3 id="step-1-synthetic-data-generation">Step 1: Synthetic Data Generation </h3>
<p><strong>Purpose</strong>: Create synthetic travel time difference data from a ground truth catalog.</p>
<p><strong>Using GUI</strong>:</p>
<ol>
<li>Launch the application: <code>java -jar build/libs/xTreLoc-GUI-1.0-SNAPSHOT.jar</code></li>
<li>Navigate to the "solver" tab</li>
<li>Select mode: <strong>SYN</strong></li>
<li>Settings:
<ul>
<li><strong>Catalog file</strong>: <code>./demo/catalog_ground_truth.csv</code></li>
<li><strong>Output directory</strong>: <code>./demo/dat</code></li>
<li><strong>Parameters</strong>:
<ul>
<li>Random seed: Seed value (Default: 100)</li>
<li>Phase error (phsErr): Perturbation applied to travel time differences (seconds) (Default: 0.1)</li>
<li>Location error (locErr): Perturbation applied to hypocenter positions (deg) (Default: 0.03)</li>
<li>Minimum selection rate: <u>Minimum</u> number of travel time difference data to be selected (Default: 0.2)</li>
<li>Maximum selection rate: <u>Maximum</u> number of travel time difference data to be selected (Default: 0.4)<br>
Note that <code>phsErr</code> and <code>locErr</code> values correspond to the standard deviation of a Gaussian distribution. The maximum/minimum selection rates determine what proportion of travel time difference data to use from the possible station pairs (nC2, where n is the number of stations).</li>
</ul>
</li>
</ul>
</li>
<li>Click "▶ Execute"</li>
</ol>
<p><strong>Using CLI</strong>:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-CLI-1.0-SNAPSHOT.jar SYN config.json
</code></pre><ul>
<li><code>phsErr</code>: Perturbation applied to travel time differences (Default: 0.1 seconds)</li>
<li><code>locErr</code>: Perturbation applied to hypocenter (Default: horizontal 0.03 degrees, depth 3 km)</li>
<li><code>minSelectRate, maxSelectRate</code>: Range of number of detections randomly selected (Default: 20-40%)</li>
</ul>
<h3 id="step-2-hypocenter-location">Step 2: Hypocenter Location </h3>
<h4 id="option-a-grd--std">Option A: GRD &amp; STD </h4>
<p>Determine hypocenter positions using STD method after focused random search.</p>
<p><strong>Using GUI</strong>:</p>
<ol>
<li>
<p>Select mode: <strong>GRD</strong></p>
</li>
<li>
<p>Settings:</p>
<ul>
<li><strong>Input directory</strong>: <code>./demo/dat</code></li>
<li><strong>Output directory</strong>: <code>./demo/dat-grd</code> (must exist beforehand)</li>
<li><strong>Parameters</strong>:
<ul>
<li>Parallelization (numJobs): Number of jobs in parallel computation (&gt;1)</li>
<li>Weight Threshold (threshold): Weight value screening (0 means all travel time data are used)</li>
<li>Maximum Depth: Depth limit to be explored. On the other hand, the shallow limit is the depth of the deepest station.</li>
<li>Total Grids: Total number of grids to explore (Default: 300)</li>
<li>Focus Grids: Number of steps to narrow the region (Default: 3)<br>
For example, in the above example, 100 (=300/3) grids are randomly placed and explored in 3 rounds while narrowing the target range (i.e., scatter 100 grids in the region surrounding the station range, identify point <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> with minimum residual. Next, scatter 100 points around <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, identify the best point <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">p_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>. Similarly, select 100 points in a finer region around <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">p_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and take the best <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">p_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> as the solution.)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Click "▶ Execute"</p>
</li>
<li>
<p>Select mode: <strong>STD</strong></p>
</li>
<li>
<p>Settings:</p>
<ul>
<li><strong>Input directory</strong>: <code>./demo/dat-grd</code></li>
<li><strong>Output directory</strong>: <code>./demo/dat-std</code> (must exist beforehand)</li>
<li><strong>Parameters</strong>:
<ul>
<li>Parallelization (numJobs): Number of jobs in parallel computation (&gt;1)</li>
<li>Weight Threshold (threshold): Weight value screening (0 means all travel time data are used)</li>
<li>Maximum Depth: Depth limit to be explored. On the other hand, the shallow limit is the depth of the deepest station.</li>
<li>LM Initial Step Bound (initialStepBoundFactor): 100</li>
<li>LM Cost Relative Tolerance (costRelativeTolerance): 1e-6</li>
<li>LM Parameter Relative Tolerance (parRelativeTolerance): 1e-6</li>
<li>LM Orthogonal Tolerance (orthoTolerance): 1e-6</li>
<li>LM Max Evaluations (maxEvaluations): 1000</li>
<li>LM Max Iterations (maxIterations): 1000<br>
Changes to LM method parameters are generally not recommended.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Click "▶ Execute"</p>
</li>
</ol>
<p><strong>Using CLI</strong>:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> demo/dat-grd
<span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-CLI-1.0-SNAPSHOT.jar GRD config.json
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> demo/dat-std
<span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-CLI-1.0-SNAPSHOT.jar STD config.json
</code></pre><h4 id="option-b-mcmc">Option B: MCMC </h4>
<p>Determine hypocenter positions using Markov Chain Monte Carlo method.</p>
<p><strong>Using GUI</strong>:</p>
<ol>
<li>Select mode: <strong>MCMC</strong></li>
<li>Settings:
<ul>
<li><strong>Input directory</strong>: <code>./demo/dat</code></li>
<li><strong>Output directory</strong>: <code>./demo/dat-mcmc</code> (must exist beforehand)</li>
<li><strong>Parameters</strong>:
<ul>
<li>Parallelization (numJobs): Number of jobs in parallel computation (&gt;1)</li>
<li>Weight Threshold (threshold): Weight value screening (0 means all travel time data are used)</li>
<li>Maximum Depth: Depth limit to be explored. On the other hand, the shallow limit is the depth of the deepest station.</li>
<li>Sample Count: Number of samples (Default: 1000)</li>
<li>Burn-in Period: Burn-in (Default: 200)</li>
<li>Step Size: Step size (Default: 0.1)</li>
<li>Depth Step Size: Step size in depth direction (Default: 1.0)</li>
<li>Temperature Parameter: (Default: 1.0)</li>
</ul>
</li>
</ul>
</li>
<li>Click "▶ Execute"</li>
</ol>
<p><strong>Using CLI</strong>:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ./demo/dat-mcmc
<span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-CLI-1.0-SNAPSHOT.jar MCMC config.json
</code></pre><h3 id="step-3-hypocenter-relocation">Step 3: Hypocenter Relocation </h3>
<p>CLS mode clustering and calculation of travel time difference differences between hypocenter pairs. In this example, files under <code>dat</code> generated by SYN mode are used for accuracy verification, but it is strongly recommended to input hypocenters determined by GRD &amp; STD or MCMC from Step 2 in general.</p>
<p><strong>Using GUI</strong>:</p>
<ol>
<li>
<p>Select mode: <strong>CLS</strong></p>
</li>
<li>
<p>Settings:</p>
<ul>
<li><strong>Catalog file</strong>: <code>./demo/dat/catalog.csv</code> (or <code>dat-std</code>, <code>dat-mcmc</code>)</li>
<li><strong>Output directory</strong>: <code>./demo/dat-cls</code> (must exist beforehand)</li>
<li><strong>Parameters</strong>:
<ul>
<li>Minimum points: Minimum number of points per cluster (3)</li>
<li>Epsilon (km): Cluster radius (30.0)</li>
<li>Weight Threshold (threshold): Weight value screening</li>
<li>Data Inclusion Rate (optional): When epsilon value is negative, automatic estimation using K-distance graph is performed. In this case, input what proportion of events to include relative to the total number of events when setting epsilon. If not set, automatic estimation is performed using the elbow method.</li>
<li>RMS Threshold (optional): Threshold for travel time difference in dat files (seconds). Events with travel time residuals exceeding this value are not used for clustering.</li>
<li>Location Error Threshold (optional): Threshold for horizontal hypocenter location accuracy in dat files (km). Events with errors exceeding this value are not used for clustering.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Click "▶ Execute"</p>
</li>
</ol>
<p><strong>K-Distance Graph</strong> (for epsilon estimation):<br>
<img src="kdist.png" alt="K-Distance Graph"></p>
<p><strong>Using CLI</strong>:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-CLI-1.0-SNAPSHOT.jar CLS config.json
</code></pre><p><strong>Note</strong>: Cluster IDs start from 1 as consecutive numbers, and 0 corresponds to events not classified into clusters. If integer values are written in the 11th column (cid) of the catalog file, those cluster IDs are used (only triple difference data calculation is executed, so this is used when clustering is performed beforehand using a different method). If cluster numbers are not assigned and the corresponding column is blank, DBSCAN clustering is executed with <code>minPts</code> and <code>eps</code> as parameters. However, if <code>eps</code> is negative, clustering is performed with <code>eps</code> automatically estimated by k-distance graph (and elbow method if Data Inclusion Rate is not specified).<br>
CLS mode outputs files corresponding to <code>dt.ct</code> in <code>hypoDD</code>, which are <code>triple_diff_&lt;cid&gt;.bin</code> (binary format). These are used for relative hypocenter location.</p>
<p><strong>Using GUI</strong>:</p>
<ol>
<li>
<p>Select mode: <strong>TRD</strong></p>
</li>
<li>
<p>Settings:</p>
<ul>
<li><strong>Catalog file</strong>: <code>./demo/dat-cls/catalog.csv</code> (or other catalog)</li>
<li><strong>Input directory</strong>: <code>./demo/dat-cls</code> (directory containing triple difference binary files)</li>
<li><strong>Output directory</strong>: <code>./demo/dat-trd</code> (must exist beforehand)</li>
<li><strong>Parameters</strong>:
<ul>
<li>Parallelization (numJobs): Number of jobs in parallel computation (&gt;1)</li>
<li>Weight Threshold (threshold): Weight value screening (0 means all travel time data are used)</li>
<li>Maximum Depth: Depth limit to be explored. On the other hand, the shallow limit is the depth of the deepest station. <u>Unlike GRD, STD, and MCMC modes, if updated beyond this depth (or shallower than stations), it is judged as a location failure and an Err tag is assigned.</u></li>
<li>Iteration Count (iterNum): Number of iterations in each step (e.g., 10,10)</li>
<li>Distance Threshold (distKm): Distance limit between events in each step (e.g., 50,20)</li>
<li>Damping Factor (dampFact): Damping coefficient in each step (e.g., 0,1)<br>
Iteration Count, Distance Threshold, and Damping Factor must be given as lists. In the above example, in the first step, a network is constructed with events within 50 km, and 10 iterations are performed with Damping Factor of 0. In the next step, similarly, 10 iterations are performed with Damping Factor=1 for events within 20 km. Therefore, the number of elements in these lists must be the same.<br>
In the catalog file, hypocenters of events labeled REF are not updated and are fixed.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Click "▶ Execute"</p>
</li>
</ol>
<p><strong>Using CLI</strong>:</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> demo/dat-trd
<span class="token function">java</span> <span class="token parameter variable">-jar</span> build/libs/xTreLoc-CLI-1.0-SNAPSHOT.jar TRD config.json
</code></pre><h3 id="step-4-result-visualization">Step 4: Result Visualization </h3>
<h4 id="gnuplot">Gnuplot </h4>
<p>Simple visualization of catalog results is possible using the provided Gnuplot script <code>map_njt.plt</code>.</p>
<p><strong>Usage</strong>:</p>
<ol>
<li>Navigate to the <code>demo/</code> directory:<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code><span class="token builtin class-name">cd</span> demo
</code></pre></li>
<li>Edit <code>map_njt.plt</code> and set the <code>filename_csv</code> variable to the catalog file:<pre data-role="codeBlock" data-info="gnuplot" class="language-gnuplot gnuplot"><code>filename_csv = "dat-std/catalog.csv"
</code></pre></li>
<li>Run gnuplot:<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>gnuplot map_njt.plt
</code></pre></li>
<li>PDF is automatically generated.</li>
</ol>
<p><strong>Example Outputs</strong>:</p>
<ul>
<li>
<p>Ground truth: <img src="gnu_ground_truth.png" alt="Ground Truth"></p>
</li>
<li>
<p>Perturbed hypocenters: <img src="gnu_syn.png" alt="Perturbated"></p>
</li>
<li>
<p>GRD results: <img src="gnu_syn_grd.png" alt="GRD Results"></p>
</li>
<li>
<p>GRD&amp;STD results: <img src="gnu_syn_grd_std.png" alt="GRD&amp;STD Results"></p>
</li>
<li>
<p>MCMC results: <img src="gnu_syn_mcmc.png" alt="MCMC Results"></p>
</li>
<li>
<p>TRD results: <img src="gnu_syn_trd.png" alt="TRD Results"></p>
</li>
</ul>
<h4 id="matlab">MATLAB </h4>
<p>Maps can also be created using the provided MATLAB script <code>map_njt.m</code>.</p>
<p><strong>Usage</strong>:</p>
<ol>
<li>Edit <code>map_njt.m</code> and set the catalog file:<pre data-role="codeBlock" data-info="matlab" class="language-matlab matlab"><code>catalog_file <span class="token operator">=</span> "demo<span class="token operator">/</span>dat<span class="token operator">-</span>std<span class="token operator">/</span>catalog<span class="token punctuation">.</span>csv"<span class="token punctuation">;</span>
</code></pre></li>
<li>Run MATLAB:<pre data-role="codeBlock" data-info="matlab" class="language-matlab matlab"><code>map_njt
</code></pre></li>
</ol>
<p><strong>Example Output</strong>: <img src="mat_njt.png" alt="MATLAB Map"></p>
<h4 id="drawing-on-gui">Drawing on GUI </h4>
<p>Navigate to the "viewer" tab, and in the "Catalog data" tab, click "File selection" to load a catalog file for drawing. By selecting shp files, etc., coastlines and trenches can also be drawn.</p>
<p><strong>GUI Visualization Example</strong>:<br>
<img src="gui_njt.png" alt="GUI Map View"></p>
<h3 id="output-results">Output Results </h3>
<p>After completing all steps, the following is obtained:</p>
<pre data-role="codeBlock" data-info="" class="language-text"><code>demo
├── catalog_ground_truth.csv
├── dat
│   ├── 000101.000000.dat
│   ├── 000101.010000.dat
│   ├── ...
│   └── catalog.csv
├── dat-cls
│   ├── 000101.000000.dat
│   ├── 000101.010000.dat
│   ├── ...
│   ├── catalog.csv
│   ├── triple_diff_1.bin
│   └── triple_diff_2.bin
├── dat-grd
│   ├── 000101.000000.dat
│   ├── 000101.010000.dat
│   ├── ...
│   └── catalog.csv
├── dat-mcmc
│   ├── 000101.000000.dat
│   ├── 000101.010000.dat
│   ├── ...
│   └── catalog.csv
├── dat-std
│   ├── 000101.000000.dat
│   ├── 000101.010000.dat
│   ├── ...
│   └── catalog.csv
├── dat-trd
│   ├── 000101.000000.dat
│   ├── 000101.010000.dat
│   ├── ...
│   └── catalog_trd.csv
├── map_njt.m
├── map_njt.plt
└── station.tbl
</code></pre><h2 id="citation">Citation </h2>
<ol>
<li>Natural Earth: <a href="https://www.naturalearthdata.com/downloads/10m-physical-vectors/10m-coastline/">https://www.naturalearthdata.com/downloads/10m-physical-vectors/10m-coastline/</a></li>
<li>The Geospatial Information Authority of Japan (GSI): <a href="https://www.gsi.go.jp/kankyochiri/gm_japan_e.html">https://www.gsi.go.jp/kankyochiri/gm_japan_e.html</a></li>
</ol>
<hr>
<p><strong>Version</strong>: 1.0-SNAPSHOT<br>
<strong>Last Updated</strong>: 2024</p>

      </div>
      <div class="md-sidebar-toc">
<div class="md-toc">
<details style="padding:0;;padding-left:0px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#xtreloc-user-manual-english" class="md-toc-link"><p>xTreLoc User Manual (English)</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#table-of-contents" class="md-toc-link">
            <p>Table of Contents</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#introduction" class="md-toc-link">
            <p>Introduction</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#installation-and-build" class="md-toc-link"><p>Installation and Build</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#requirements" class="md-toc-link">
            <p>Requirements</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#building-from-source" class="md-toc-link"><p>Building from Source</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#using-gradle" class="md-toc-link">
            <p>Using Gradle</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#using-maven" class="md-toc-link">
            <p>Using Maven</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#verifying-the-build" class="md-toc-link">
            <p>Verifying the Build</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#running-jar-files" class="md-toc-link">
            <p>Running JAR Files</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#data-formats" class="md-toc-link"><p>Data Formats</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#station-file-format-stationtbl" class="md-toc-link">
            <p>Station File Format (station.tbl)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#catalog-csv-format" class="md-toc-link">
            <p>Catalog CSV Format</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#travel-time-difference-data-file-format" class="md-toc-link">
            <p>Travel Time Difference Data File Format</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#gui-mode" class="md-toc-link">
            <p>GUI Mode</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#cli-mode" class="md-toc-link"><p>CLI Mode</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#starting-cli-mode" class="md-toc-link">
            <p>Starting CLI Mode</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#command-syntax" class="md-toc-link">
            <p>Command Syntax</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#available-modes" class="md-toc-link"><p>Available Modes</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#grd-mode-grid-search" class="md-toc-link">
            <p>GRD Mode (Grid Search)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#std-mode" class="md-toc-link">
            <p>STD Mode</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#mcmc-mode" class="md-toc-link">
            <p>MCMC Mode</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#cls-mode-spatial-clustering" class="md-toc-link">
            <p>CLS Mode (Spatial Clustering)</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#trd-mode" class="md-toc-link">
            <p>TRD Mode</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#syn-mode-synthetic-test-data-generation" class="md-toc-link">
            <p>SYN Mode (Synthetic Test Data Generation)</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#help" class="md-toc-link">
            <p>Help</p>

          </a></div>
        </div>
      </details>
    <details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#demo-dataset-tutorial" class="md-toc-link"><p>Demo Dataset Tutorial</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#preparation" class="md-toc-link">
            <p>Preparation</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#demo-dataset-structure" class="md-toc-link">
            <p>Demo Dataset Structure</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#workflow-overview" class="md-toc-link">
            <p>Workflow Overview</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#step-1-synthetic-data-generation" class="md-toc-link">
            <p>Step 1: Synthetic Data Generation</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#step-2-hypocenter-location" class="md-toc-link"><p>Step 2: Hypocenter Location</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#option-a-grd--std" class="md-toc-link">
            <p>Option A: GRD &amp; STD</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#option-b-mcmc" class="md-toc-link">
            <p>Option B: MCMC</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#step-3-hypocenter-relocation" class="md-toc-link">
            <p>Step 3: Hypocenter Relocation</p>

          </a></div><details style="padding:0;;padding-left:24px;" open="">
        <summary class="md-toc-link-wrapper">
          <a href="#step-4-result-visualization" class="md-toc-link"><p>Step 4: Result Visualization</p>
</a>
          </summary>
        <div>
          <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#gnuplot" class="md-toc-link">
            <p>Gnuplot</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#matlab" class="md-toc-link">
            <p>MATLAB</p>

          </a></div><div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#drawing-on-gui" class="md-toc-link">
            <p>Drawing on GUI</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#output-results" class="md-toc-link">
            <p>Output Results</p>

          </a></div>
        </div>
      </details>
    <div class="md-toc-link-wrapper" style="padding:0;;display:list-item;list-style:square;margin-left:42px">
          <a href="#citation" class="md-toc-link">
            <p>Citation</p>

          </a></div>
        </div>
      </details>
    
</div>
</div>
      <a id="sidebar-toc-btn">≡</a>
    
    
    
    
    
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  
    </body></html>